---
title: "SDS291_GP_data_merge"
author: "Claire Kelly"
format: html
---

```{r}
library(tidyverse)
```

```{r}
doctor_data <- read_csv("medical_doctor_data.csv")

mortality_data <- read_csv("mortality_data.csv")

pollution_data <- read_csv("PM25-air-pollution.csv")
```


## Mortality Data

```{r}
mortality_data_edit <- mortality_data |> 
  filter(Period == 2019, 
         Dim1ValueCode == "BTSX", 
         IndicatorCode == "SDGAIRBOD") |>
  pivot_wider(names_from = "Dim2", 
              values_from = "Value", 
              names_repair = make.names)

```

*Note to group* 

This part is not fully wrangled, but I'm not sure how we want to handle it. 

Currently there are multiple observations for each country, which obviously doesn't work. The issue is that the values are given in the form of a number and a range. Because we plan to use it as a numeric explanatory, I was thinking we probably only want the number and not the range? Right now those values are stored in `FactValueNumeric` but are not differentiated by specific cause of death. If we just want total, that's easy to do, but if we want to have the factor value of each cause, that's gonna take a little more work. Let me know what you think our end goal for the data set should be (ie what variables we want with what values) and then we can start figuring out the final wrangling. 

## Doctor Data

```{r}
doctor_data_edit <- doctor_data |> 
  filter(Period == 2019) |>
  select(ParentLocationCode, 
         ParentLocation, 
         SpatialDimValueCode, 
         Location, 
         Period, 
         FactValueNumeric, 
         Value)
```
